ğŸš€ Iniciando Worker Manager
ğŸ“Š ConfiguraciÃ³n: 2-8 workers
âœ… Worker 1 iniciado
âœ… Worker 2 iniciado
âœ… Worker Manager iniciado
ğŸ” Iniciando detector de trades (solo detecciÃ³n)
âœ… Detector iniciado (polling cada 2s)
It is highly recommended to use a minimum Redis version of 6.2.0
             Current: 5.0.14.1
It is highly recommended to use a minimum Redis version of 6.2.0
             Current: 5.0.14.1
It is highly recommended to use a minimum Redis version of 6.2.0
             Current: 5.0.14.1
It is highly recommended to use a minimum Redis version of 6.2.0
             Current: 5.0.14.1
ğŸ”„ [Worker] Procesando trade SOLUSD para 1 followers
ğŸ” DEBUG masterTrade object: {
  "position_id": 178922,
  "ticket": 178922,
  "symbol": "SOLUSD",
  "action": 0,
  "volume": 0.01,
  "price_open": 186.22,
  "price_current": 186.24,
  "sl": 0,
  "tp": 0,
  "profit": 0,
  "time_open": 1760795142,
  "comment": "",
  "event_type": "POSITION_OPENED"
}
ğŸ” DEBUG masterPositionId extracted: 178922
ğŸš€ Iniciando sistema de replicaciÃ³n con polling cada 2 segundos
ğŸ”„ [INIT] Inicializando cache de posiciones...
ğŸ”„ Inicializando cache de posiciones abiertas...
ğŸ“Š Inicializando cache para 1 masters
[09:46:30.322] [32mINFO[39m (21688): [36mâœ… Worker Manager y Detector iniciados correctamente[39m
[09:46:30.514] [32mINFO[39m (21688): [36mğŸš€ AGM Logic Backend Enterprise running on port 8080[39m
[09:46:30.514] [32mINFO[39m (21688): [36mğŸ“Š Database: SUPABASE[39m
[09:46:30.514] [32mINFO[39m (21688): [36mğŸ”’ Security: ENABLED[39m
[09:46:30.514] [32mINFO[39m (21688): [36mğŸ“ˆ Metrics: ENABLED[39m
[09:46:30.515] [32mINFO[39m (21688): [36mğŸ’¾ Redis: CONNECTED[39m
[09:46:30.515] [32mINFO[39m (21688): [36mğŸ”— Python API: https://apekapital.com:444/api/v1[39m
[09:46:30.515] [32mINFO[39m (21688): [36mğŸš€ Iniciando servicio de replicaciÃ³n...[39m
ğŸ“Š [Detector] 1 masters activos, 1 relaciones
â³ DetecciÃ³n anterior en proceso, omitiendo ciclo
ğŸ“Š Estado: 2 workers | Cola: 1 jobs (0 waiting, 1 active)
â³ DetecciÃ³n anterior en proceso, omitiendo ciclo
â³ DetecciÃ³n anterior en proceso, omitiendo ciclo
ğŸ“Š Estado: 2 workers | Cola: 1 jobs (0 waiting, 1 active)
â³ DetecciÃ³n anterior en proceso, omitiendo ciclo
â³ DetecciÃ³n anterior en proceso, omitiendo ciclo
â³ DetecciÃ³n anterior en proceso, omitiendo ciclo
âœ… Master 101308: 1 posiciones en cache
âœ… Cache de posiciones inicializado
âœ… [INIT] Cache inicializado correctamente
ğŸ” Window de bÃºsqueda: 7200 segundos
ğŸ›¡ï¸ DeduplicaciÃ³n de deals: ACTIVADA
ğŸ†• [Detector] 1 trades nuevos de master 101308
ğŸ“¦ [Detector] Encolando trade: {
  "position_id": 178922,
  "ticket": 178922,
  "event_type": "POSITION_OPENED",
  "symbol": "SOLUSD"
}
âœ… Trade ejecutado en follower 101383: ticket 1998847867
ğŸ’¾ [SAVE] masterPositionId: 178922, masterTrade.position_id: 178922, masterTrade.ticket: 178922
ğŸ’¾ [SAVE] Full masterTrade: {
  "position_id": 178922,
  "ticket": 178922,
  "symbol": "SOLUSD",
  "action": 0,
  "volume": 0.01,
  "price_open": 186.22,
  "price_current": 186.24,
  "sl": 0,
  "tp": 0,
  "profit": 0,
  "time_open": 1760795142,
  "comment": "",
  "event_type": "POSITION_OPENED"
}
â³ Job 49 esperando en cola
[RedisSubscriber] Connected to Redis
[RedisSubscriber] Redis client ready
[RedisSubscriber] Redis Subscriber initialized successfully
[RedisSubscriber] âœ… Subscribed to channel: copy-trading:new-deal
âœ… Redis Pub/Sub connected - listening on copy-trading:new-deal
ğŸš€ Real-time replication enabled (<1s latency)
[2025-10-18T12:46:45.103Z] ğŸ” Buscando nuevas operaciones para replicar...
âœ¨ [Detector] Ciclo completado en 12919ms. 1 trades encolados
ğŸ“Š Procesando 1 relaciones activas
ğŸ”„ Actualizando cache para 1 masters
ğŸ“Š Estado: 2 workers | Cola: 2 jobs (1 waiting, 1 active)
âœ… Cache actualizado: dfe5c068-bddf-419d-b816-08303dd276ea -> 101308
ğŸ‘¥ Masters Ãºnicos a consultar: 1
ğŸ“¡ Consultando trades del master 101308
ğŸ’¾ Trade 1998847867 guardado en Supabase
âœ… [Worker] Completado: 1/1 exitosos
âœ… Worker completÃ³ job 48
ğŸ”„ [Worker] Procesando trade SOLUSD para 1 followers
ğŸ” DEBUG masterTrade object: {
  "position_id": 178922,
  "ticket": 178922,
  "symbol": "SOLUSD",
  "action": 0,
  "volume": 0.01,
  "price_open": 186.22,
  "price_current": 186.16,
  "sl": 0,
  "tp": 0,
  "profit": 0,
  "time_open": 1760795142,
  "comment": "",
  "event_type": "POSITION_OPENED"
}
ğŸ” DEBUG masterPositionId extracted: 178922
â­ï¸ SKIP: Master position 178922 already replicated to follower 101383 (follower ticket: 1998847867)
âœ… [Worker] Completado: 1/1 exitosos
âœ… Worker completÃ³ job 49
ğŸ“Š [Detector] 1 masters activos, 1 relaciones
â³ El sondeo anterior aÃºn estÃ¡ en proceso. Omitiendo este ciclo.
â³ DetecciÃ³n anterior en proceso, omitiendo ciclo
â³ El sondeo anterior aÃºn estÃ¡ en proceso. Omitiendo este ciclo.
â³ DetecciÃ³n anterior en proceso, omitiendo ciclo
â³ El sondeo anterior aÃºn estÃ¡ en proceso. Omitiendo este ciclo.
â³ DetecciÃ³n anterior en proceso, omitiendo ciclo
â³ El sondeo anterior aÃºn estÃ¡ en proceso. Omitiendo este ciclo.
â³ DetecciÃ³n anterior en proceso, omitiendo ciclo
â³ El sondeo anterior aÃºn estÃ¡ en proceso. Omitiendo este ciclo.
â³ DetecciÃ³n anterior en proceso, omitiendo ciclo
â³ El sondeo anterior aÃºn estÃ¡ en proceso. Omitiendo este ciclo.
â³ DetecciÃ³n anterior en proceso, omitiendo ciclo
â³ El sondeo anterior aÃºn estÃ¡ en proceso. Omitiendo este ciclo.
â³ DetecciÃ³n anterior en proceso, omitiendo ciclo
â³ El sondeo anterior aÃºn estÃ¡ en proceso. Omitiendo este ciclo.
âœ¨ Ciclo completado en 16399ms. Trades replicados: 0
ğŸ“Š [Detector] 1 masters activos, 1 relaciones
[2025-10-18T12:47:03.106Z] ğŸ” Buscando nuevas operaciones para replicar...
ğŸ“Š Procesando 1 relaciones activas
ğŸ‘¥ Masters Ãºnicos a consultar: 1
ğŸ“¡ Consultando trades del master 101308
â³ DetecciÃ³n anterior en proceso, omitiendo ciclo
â³ El sondeo anterior aÃºn estÃ¡ en proceso. Omitiendo este ciclo.
â³ DetecciÃ³n anterior en proceso, omitiendo ciclo
â³ El sondeo anterior aÃºn estÃ¡ en proceso. Omitiendo este ciclo.
â³ DetecciÃ³n anterior en proceso, omitiendo ciclo
â³ El sondeo anterior aÃºn estÃ¡ en proceso. Omitiendo este ciclo.
â³ DetecciÃ³n anterior en proceso, omitiendo ciclo
â³ El sondeo anterior aÃºn estÃ¡ en proceso. Omitiendo este ciclo.
â³ DetecciÃ³n anterior en proceso, omitiendo ciclo
â³ El sondeo anterior aÃºn estÃ¡ en proceso. Omitiendo este ciclo.
â³ DetecciÃ³n anterior en proceso, omitiendo ciclo
â³ El sondeo anterior aÃºn estÃ¡ en proceso. Omitiendo este ciclo.
â³ DetecciÃ³n anterior en proceso, omitiendo ciclo
â³ El sondeo anterior aÃºn estÃ¡ en proceso. Omitiendo este ciclo.
âœ¨ Ciclo completado en 14693ms. Trades replicados: 0
ğŸ“Š [Detector] 1 masters activos, 1 relaciones
[2025-10-18T12:47:19.112Z] ğŸ” Buscando nuevas operaciones para replicar...
ğŸ“Š Procesando 1 relaciones activas
ğŸ‘¥ Masters Ãºnicos a consultar: 1
ğŸ“¡ Consultando trades del master 101308
â³ DetecciÃ³n anterior en proceso, omitiendo ciclo
â³ El sondeo anterior aÃºn estÃ¡ en proceso. Omitiendo este ciclo.
â³ DetecciÃ³n anterior en proceso, omitiendo ciclo
â³ El sondeo anterior aÃºn estÃ¡ en proceso. Omitiendo este ciclo.
â³ DetecciÃ³n anterior en proceso, omitiendo ciclo
â³ El sondeo anterior aÃºn estÃ¡ en proceso. Omitiendo este ciclo.
â³ DetecciÃ³n anterior en proceso, omitiendo ciclo
â³ El sondeo anterior aÃºn estÃ¡ en proceso. Omitiendo este ciclo.
â³ DetecciÃ³n anterior en proceso, omitiendo ciclo
â³ El sondeo anterior aÃºn estÃ¡ en proceso. Omitiendo este ciclo.
ğŸ†• [Detector] 1 trades nuevos de master 101308
ğŸ“¦ [Detector] Encolando trade: {
  "position_id": 178922,
  "event_type": "POSITION_CLOSED"
}
ğŸ”´ 1 posiciones cerradas detectadas para master 101308
âœ… 1 nuevos trades encontrados para master 101308
â³ Job 50 esperando en cola
âœ¨ Ciclo completado en 10364ms. Trades replicados: 1
âœ¨ [Detector] Ciclo completado en 11148ms. 1 trades encolados
ğŸ”„ [Worker] Procesando trade undefined para 1 followers
ğŸ” DEBUG: Looking up follower trade for master position 178922 on account 101383
ğŸ” DEBUG: Lookup result: {
  followerTrade: {
    trade_id: '1998847867',
    id: 'd00d07e0-0d8a-4210-8192-47dcc558b0ba'
  },
  lookupError: null
}
ğŸ¯ Closing follower position 1998847867 (master position: 178922)
ğŸ“Š Estado: 2 workers | Cola: 1 jobs (0 waiting, 1 active)
ğŸ“Š [Detector] 1 masters activos, 1 relaciones
[2025-10-18T12:47:31.114Z] ğŸ” Buscando nuevas operaciones para replicar...
ğŸ“Š Procesando 1 relaciones activas
ğŸ‘¥ Masters Ãºnicos a consultar: 1
ğŸ“¡ Consultando trades del master 101308
â³ DetecciÃ³n anterior en proceso, omitiendo ciclo
â³ El sondeo anterior aÃºn estÃ¡ en proceso. Omitiendo este ciclo.
â³ DetecciÃ³n anterior en proceso, omitiendo ciclo
âœ… PosiciÃ³n 1998847867 cerrada en follower 101383
âœ… Worker completÃ³ job 50
âœ¨ Ciclo completado en 3484ms. Trades replicados: 0
[2025-10-18T12:47:35.115Z] ğŸ” Buscando nuevas operaciones para replicar...
ğŸ“Š Procesando 1 relaciones activas
ğŸ‘¥ Masters Ãºnicos a consultar: 1
ğŸ“¡ Consultando trades del master 101308
ğŸ“Š [Detector] 1 masters activos, 1 relaciones
â³ El sondeo anterior aÃºn estÃ¡ en proceso. Omitiendo este ciclo.
â³ DetecciÃ³n anterior en proceso, omitiendo ciclo
â³ El sondeo anterior aÃºn estÃ¡ en proceso. Omitiendo este ciclo.
â³ DetecciÃ³n anterior en proceso, omitiendo ciclo
â³ El sondeo anterior aÃºn estÃ¡ en proceso. Omitiendo este ciclo.
â³ DetecciÃ³n anterior en proceso, omitiendo ciclo
â³ El sondeo anterior aÃºn estÃ¡ en proceso. Omitiendo este ciclo.
â³ DetecciÃ³n anterior en proceso, omitiendo ciclo
â³ El sondeo anterior aÃºn estÃ¡ en proceso. Omitiendo este ciclo.
âœ¨ Ciclo completado en 10614ms. Trades replicados: 0
ğŸ“Š [Detector] 1 masters activos, 1 relaciones
[2025-10-18T12:47:47.123Z] ğŸ” Buscando nuevas operaciones para replicar...
ğŸ“Š Procesando 1 relaciones activas
ğŸ‘¥ Masters Ãºnicos a consultar: 1
ğŸ“¡ Consultando trades del master 101308
â³ DetecciÃ³n anterior en proceso, omitiendo ciclo
â³ El sondeo anterior aÃºn estÃ¡ en proceso. Omitiendo este ciclo.
â³ DetecciÃ³n anterior en proceso, omitiendo ciclo